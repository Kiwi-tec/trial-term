<!-- Main functionality -->
<script>
    const searchTrigger = document.querySelector('.search-trigger');
    const searchOverlay = document.getElementById('searchOverlay');
    const cancelSearch = document.getElementById('cancelSearch');
    const searchInput = document.querySelector('.search-input');

    searchTrigger.addEventListener('click', function() {
        searchOverlay.style.display = 'block';
        document.body.style.overflow = 'hidden';
        searchInput.focus();
    });

    cancelSearch.addEventListener('click', function() {
        searchOverlay.style.display = 'none';
        document.body.style.overflow = '';
    });

    const popularItems = document.querySelectorAll('.popular-item');
    popularItems.forEach(item => {
        item.addEventListener('click', function() {
            const searchTerm = this.textContent.trim();
            searchInput.value = searchTerm;
        });
    });

    const menuTrigger = document.querySelector('.menu-trigger');
    const navOverlay = document.getElementById('navOverlay');
    const closeNavMenu = document.getElementById('closeNavMenu');

    menuTrigger.addEventListener('click', function() {
        navOverlay.style.display = 'block';
        document.body.style.overflow = 'hidden';
    });

    closeNavMenu.addEventListener('click', function() {
        navOverlay.style.display = 'none';
        document.body.style.overflow = '';
    });

    const navSearchIcon = document.querySelector('.nav-search-icon');
    navSearchIcon.addEventListener('click', function() {
        navOverlay.style.display = 'none';
        searchOverlay.style.display = 'block';
        searchInput.focus();
    });
</script>

<!-- Conditionally include this script ONLY if on FAQ page -->
<% if (typeof faqPage !== 'undefined' && faqPage) { %>
<script>
    document.querySelectorAll('.faq-question').forEach(q => {
        q.addEventListener('click', () => {
            q.classList.toggle('active');
            const icon = q.querySelector('i');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        });
    });
</script>
<% } %>
